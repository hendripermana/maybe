<%# locals:(name:, path:, icon:, icon_custom:, active:, mobile_only: false) %>

<%
  # Define different colors for each navigation item based on name
  # Bright colors when active, subtle shadowed colors when inactive
  nav_colors = case name
  when "Home"
    {
      bg_active: "bg-blue-500",
      bg_inactive: "bg-blue-50 dark:bg-blue-900/10", 
      text_active: "text-white",
      text_inactive: "text-blue-500 dark:text-blue-400",
      text_inactive_label: "text-blue-600 dark:text-blue-400",
      hover: "hover:bg-blue-100 dark:hover:bg-blue-900/20",
      shadow_active: "shadow-blue-500/30",
      shadow_inactive: "shadow-blue-200/20 dark:shadow-blue-800/10"
    }
  when "Transactions"
    {
      bg_active: "bg-green-500",
      bg_inactive: "bg-green-50 dark:bg-green-900/10",
      text_active: "text-white", 
      text_inactive: "text-green-500 dark:text-green-400",
      text_inactive_label: "text-green-600 dark:text-green-400",
      hover: "hover:bg-green-100 dark:hover:bg-green-900/20",
      shadow_active: "shadow-green-500/30",
      shadow_inactive: "shadow-green-200/20 dark:shadow-green-800/10"
    }
  when "Budgets"
    {
      bg_active: "bg-purple-500",
      bg_inactive: "bg-purple-50 dark:bg-purple-900/10",
      text_active: "text-white",
      text_inactive: "text-purple-500 dark:text-purple-400", 
      text_inactive_label: "text-purple-600 dark:text-purple-400",
      hover: "hover:bg-purple-100 dark:hover:bg-purple-900/20",
      shadow_active: "shadow-purple-500/30",
      shadow_inactive: "shadow-purple-200/20 dark:shadow-purple-800/10"
    }
  else
    {
      bg_active: "bg-gray-500",
      bg_inactive: "bg-gray-50 dark:bg-gray-900/10",
      text_active: "text-white",
      text_inactive: "text-gray-500 dark:text-gray-400",
      text_inactive_label: "text-gray-600 dark:text-gray-400",
      hover: "hover:bg-gray-100 dark:hover:bg-gray-900/20",
      shadow_active: "shadow-gray-500/30",
      shadow_inactive: "shadow-gray-200/20 dark:shadow-gray-800/10"
    }
  end
%>

<%= link_to path, class: "nav-item-modern group block relative px-3 py-3 rounded-xl transition-all duration-300 #{active ? '' : nav_colors[:hover]}" do %>
  <div class="flex flex-col items-center gap-2">
    <!-- Active indicator bar -->
    <div class="<%= "w-1 h-4 rounded-full absolute left-0 top-1/2 transform -translate-y-1/2 transition-all duration-200 #{active ? nav_colors[:bg_active] : 'bg-transparent'}" %>"></div>

    <!-- Icon container -->
    <div class="<%= "w-12 h-12 flex items-center justify-center rounded-xl transition-all duration-300 #{active ? nav_colors[:bg_active] + ' ' + nav_colors[:text_active] + ' shadow-lg ' + nav_colors[:shadow_active] : nav_colors[:bg_inactive] + ' ' + nav_colors[:text_inactive] + ' shadow-sm ' + nav_colors[:shadow_inactive]} group-#{nav_colors[:hover]}" %>">
      <%= icon(icon, color: active ? "current" : "default", custom: icon_custom, class: "w-6 h-6") %>
    </div>

    <!-- Text label -->
    <p class="<%= "font-semibold text-xs transition-colors duration-300 text-center leading-tight #{active ? nav_colors[:text_active] : nav_colors[:text_inactive_label]} group-hover:#{nav_colors[:text_inactive]}" %>">
      <%= name %>
    </p>
  </div>
<% end %>
